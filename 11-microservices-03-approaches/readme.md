# Домашнее задание к занятию "11.03 Микросервисы: подходы"

## Задача 1: Обеспечить разработку

Наиболее подходящее решение по моему мнению - Microsoft Azure DevOps. 

- Облачная система - возможно использование как облачного решения, так и установка на собственных серврах
- Система контроля версий Git - встроенная
- Репозиторий на каждый сервис - широкие возможности по разграничению прав, в том числе с привязкой к Active Directory
- Запуск сборки по событию из системы контроля версий - Возможно
- Запуск сборки по кнопке с указанием параметров - Возможно
- Возможность привязать настройки к каждой сборке - Возможно
- Возможность создания шаблонов для различных конфигураций сборок - не совсем понимаю про какие шаблоны идет речь
- Возможность безопасного хранения секретных данных: пароли, ключи доступа - возможна как встроенная авторизация, доступ по токену так и интеграция с AD
- Несколько конфигураций для сборки из одного репозитория - как понимаю речь идет про разные ветки git - Возможно
- Кастомные шаги при сборке - есть возможность писать собственные шаги, а также дополнять своими плагинами, большая библиотека готовых плагинов
- Собственные докер образы для сборки проектов - на сколько мне известно готовых образов нет -  но наша команда собрала образ для агентов
- Возможность развернуть агентов сборки на собственных серверах - Возможно
- Возможность параллельного запуска нескольких сборок - Возможно
- Возможность параллельного запуска тестов - Возможно
Microsoft Azure DevOps, на мой взгляд максимально интегрированная среда для разработки, включающая в себя большую часть требуемого функционала. Остальные решения требуют дополнительных отдельных 
компонентов. Есть один минус -  решение платное.

## Задача 2: Логи

На мой взгляд решение одно - ELK
.
- Сбор логов в центральное хранилище со всех хостов обслуживающих систему - кластер Elastic
- Минимальные требования к приложениям, сбор логов из stdout - если речь идет про stdout K8s/Docker - возможно с помощью fluentd
- Гарантированная доставка логов до центрального хранилища - logstash 
- Обеспечение поиска и фильтрации по записям логов - возможна фильтрация как на стороне клиента так и на стороне elastic
- Обеспечение пользовательского интерфейса с возможностью предоставления доступа разработчикам для поиска по записям логов - kibana
- Возможность дать ссылку на сохраненный поиск по записям логов - возможно

ELK - на мой взгляд, на текущий момент стандарт сбора логов.

## Задача 3: Мониторинг

В данном моменте варианта два Prometheus или Zabbix.

- Сбор метрик со всех хостов, обслуживающих систему - реализовано в обеих системах
- Сбор метрик состояния ресурсов хостов: CPU, RAM, HDD, Network - реализовано в обеих системах
- Сбор метрик потребляемых ресурсов для каждого сервиса: CPU, RAM, HDD, Network - реализовано в обеих системах
- Сбор метрик, специфичных для каждого сервиса - возможно с помощью дополнительных "костылей", плагинов, скриптов
- Пользовательский интерфейс с возможностью делать запросы и агрегировать информацию - реализовано в обеих системах
- Пользовательский интерфейс с возможность настраивать различные панели для отслеживания состояния системы - реализовано в обеих системах

В данном вопросе на самом деле сомневаюсь - обе системы подходят под требования. Вопрос скорее "вкусовщины", использовал обе системы. Исходя из опыта выбрал бы Zabbix, 
с точки зрения "интересно изучить" Prometheus.




