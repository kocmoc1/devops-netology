# 6.6 Troubleshooting

## 1 
Поиск и завершение запроса
  ```

  db.currentOp( { "$all": true } )
  db.killOp(<opId>)

  Для того чтобы ограничить запрос по времени можно использовать .maxTimeMS(30)
  db.location.find( { "town": { "$regex": "(Pine Lumber)",
                  "$options": 'i' } } ).maxTimeMS(30
)
 ```

## 2 
Вероятнее всего Redis не успевайет очищать базу от истекших кличей, как варинат решения увеличить ACTIVE_EXPIRE_CYCLE_LOOKUPS_PER_LOOP.
## 3
Вариантов несколько:
  - проблемы с сетевым соединением - проверить соединение, увеличить  net_read_timeout
  - слишком короткое время пула на выполнение запроса - увеличить pool_recycle 
  
## 4
Системе не достаточно памяти. Варианта два либо увеличить RAM/swap, либо уменьшить обьем выделяемой памяти на potgres.